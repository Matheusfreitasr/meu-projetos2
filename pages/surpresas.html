<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Surpresas</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>

<body>

    <header>
        <h1>Surpresas Especiais üéÅ</h1>
    </header>

    <nav>
        <a href="../index.html">In√≠cio</a>
        <a href="momentos.html">Momentos</a>
        <a href="surpresas.html" class="active">Surpresas</a>
    </nav>

    <main>
        <section class="intro">
            <h2>O que ser√° ein????</h2>
            <p class="lead">Clique nas op√ß√µes abaixo para uma surpresa especial.</p>
        </section>

        <!-- Surpresa 1: √Åudio -->
        <section class="surprise-section">
            <button id="audioButton" class="explore-button">Surpresa 1: Espero que goste</button>

            <!-- O player de √°udio come√ßa oculto e ser√° exibido quando o bot√£o for pressionado -->
            <audio id="surpriseAudio" controls style="display:none;">
                <source src="../assets/audios/mensagem.mp3" type="audio/mp3">
                Seu navegador n√£o suporta o elemento de √°udio.
            </audio>
            <div id="repeatMessage" style="display:none; margin-top: 20px;">
                <p><a href="javascript:void(0);" id="repeatAudio" class="repeat-audio">Quer ouvir de novo? rs</a></p>
            </div>
        </section>

        <!-- Surpresa 2: V√≠deo -->
        <section class="surprise-section">
            <button id="videoButton" class="explore-button">Surpresa 2: E tem mais √©?? üò±</button>

            <!-- Player de v√≠deo com bot√£o de fechar -->
            <div id="videoContainer" class="video-container">
                <button id="backButton" style="display: none;">Voltar</button>
                <video id="surpriseVideo" controls>
                    <source src="../assets/videos/memories.mp4" type="video/mp4">
                    Seu navegador n√£o suporta v√≠deos.
                </video>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
            console.log("Site carregado com sucesso!");
        });

        // Controle do √°udio
        document.getElementById("audioButton").onclick = function () {
            var audio = document.getElementById("surpriseAudio");
            if (audio) {
                audio.style.display = "block";  // Exibe o player de √°udio
                audio.play();  // Inicia o √°udio
                this.style.display = "none";  // Oculta o bot√£o de √°udio

                // Quando o √°udio terminar, exibe a op√ß√£o para ouvir de novo
                audio.onended = function () {
                    document.getElementById("repeatMessage").style.display = "block";  // Exibe a op√ß√£o de "Quer ouvir de novo?"
                };
            }
        };

        // Fun√ß√£o para reproduzir o √°udio novamente quando clicar em "Quer ouvir de novo?"
        document.getElementById("repeatAudio").onclick = function () {
            var audio = document.getElementById("surpriseAudio");
            if (audio) {
                audio.currentTime = 0;  // Reseta o √°udio para o in√≠cio
                audio.play();  // Reproduz o √°udio novamente

                // Esconde a mensagem de repeti√ß√£o ap√≥s clicar
                document.getElementById("repeatMessage").style.display = "none";  // Esconde a op√ß√£o "Quer ouvir de novo?"
            }
        };

        // Exibir o player de v√≠deo ao clicar no bot√£o
        document.getElementById("videoButton").onclick = function () {
            var videoContainer = document.getElementById("videoContainer");
            var video = document.getElementById("surpriseVideo");

            if (videoContainer && video) {
                videoContainer.style.display = "block";  // Exibe o player de v√≠deo
                video.play();  // Inicia o v√≠deo

                // Define o volume do v√≠deo para 50%
                video.volume = 0.1;  // Volume a 50%

                // Oculta os bot√µes de √°udio e v√≠deo ao abrir o v√≠deo
                document.getElementById("audioButton").style.display = "none";
                document.getElementById("videoButton").style.display = "none";

                // Mostra o bot√£o de "Voltar" ao exibir o v√≠deo
                document.getElementById("backButton").style.display = "block";
            }

            // Quando o v√≠deo terminar, os bot√µes reaparecem
            video.onended = function () {
                // Retorna para a tela inicial mostrando os bot√µes
                videoContainer.style.display = "none";  // Oculta o player de v√≠deo
                document.getElementById("videoButton").style.display = "inline-block";  // Mostra o bot√£o de v√≠deo novamente
                document.getElementById("audioButton").style.display = "inline-block";  // Mostra o bot√£o de √°udio novamente

                // Oculta o bot√£o de "Voltar" ap√≥s o v√≠deo
                document.getElementById("backButton").style.display = "none";
            };
        };

        // Redirecionar para a p√°gina de surpresas (ou p√°gina anterior)
        document.getElementById("backButton").onclick = function () {
            window.location.href = "surpresas.html";  // Aqui voc√™ coloca o caminho para a p√°gina "surpresas"
        };
    </script>
    <footer>
        <p>Feito para voc√™ üíú </p>
    </footer>
</body>

</html>
